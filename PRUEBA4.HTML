


<Script>
 let anchosDeBobinas = [1840, 1880, 1600, 1500, 1450, 1800, 1400, 1700, 500, 700];
let cuchillas = [1, 2, 3, 4, 5]; // Cuchillas disponibles
let pedido = 1840; // Ancho de cada pieza

function calcularMejorBobina(pedido, anchosDeBobinas, cuchillas) {
  let mejorBobina = null;
  let maxPiezas = 0;
  let desperdicioMinimo = Infinity;

  // Ordenar los anchos de bobinas de menor a mayor
  anchosDeBobinas.sort((a, b) => a - b);

  // Buscar la mejor bobina que acomode el pedido
  for (let ancho of anchosDeBobinas) {

    if (ancho > pedido) {
    // Para cada cuchilla, calcular el total de piezas que pueden cortarse
    for (let cuchilla of cuchillas) {
      let piezas = Math.floor(ancho / pedido);
      if (piezas >= cuchilla) { // Solo si el número de piezas es mayor o igual al número de cuchillas
        let anchoUtilizado = cuchilla * pedido; // Ancho total utilizado
        let desperdicio = ancho - anchoUtilizado; // Calcular desperdicio

        // Elegir la mejor bobina
        if (piezas >= 1 && desperdicio < desperdicioMinimo) {
          mejorBobina = ancho;
          maxPiezas = piezas;
          desperdicioMinimo = desperdicio;
        }
      }
    }
}
  }

  return {
    anchoBobina: mejorBobina,
    piezasQueCaben: maxPiezas,
    totalAnchoUtilizado: maxPiezas * pedido,
    desperdicio: desperdicioMinimo
  };
}

let resultado = calcularMejorBobina(pedido, anchosDeBobinas, cuchillas);
let restado = resultado.anchoBobina-40;


console.log(`Para un pedido de ${pedido} mm, necesitas una bobina de ${resultado.anchoBobina} mm `);
console.log(`Quitado - 40mm: ${restado} mm.`);
console.log(`Total de ancho utilizado: ${restado} mm.`);
console.log(`Desperdicio: ${resultado.desperdicio} mm.`);


let res = restado;

// console.log(res);

if (res > 0) {
    let cuatro =restado / 4;
    console.log(`Para 4 piezas iguales: Posición de cuchilla: ${cuatro.toFixed(2)} mm`);
    console.log(`Desperdicio de cuchilla: ${0} mm`);
    let tres =restado / 3;
    console.log(`Para 3 piezas iguales: Posición de cuchilla: ${tres.toFixed(2)} mm`);
    console.log(`Desperdicio de cuchilla: ${0} mm`);

    let dos =restado / 2;
    console.log(`Para 2 piezas iguales: Posición de cuchilla: ${dos.toFixed(2)} mm`);
    console.log(`Desperdicio de cuchilla: ${0} mm`);
    
} else {
  console.log("Estado de la Combinación: Mala");
}

 
</Script>