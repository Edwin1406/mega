<script>
// Datos iniciales
let bobina = 1900;
let refile = 30;
let bobinaUtil = bobina - refile;

let pedidos = [
    { id: 1, tipo: '150-C', ancho: 1214, cantidad: 5000 }, 
    { id: 2, tipo: '150-C', ancho: 655, cantidad: 5000 }, 
    { id: 3, tipo: '150-B', ancho: 655, cantidad: 5000 }, // Este pedido es del tipo 150-B y no debe entrar en la dupla de 150-C
    { id: 3, tipo: '150-B', ancho: 655, cantidad: 5000 }, // Este pedido es del tipo 150-B y no debe entrar en la dupla de 150-C
    { id: 3, tipo: '150-B', ancho: 655, cantidad: 5000 } // Este pedido es del tipo 150-B y no debe entrar en la dupla de 150-C

  ];

// Función para calcular la tabla
function calcularPedidos(bobinaUtil, pedidos) {
    let pedidosUsados = [];
    let sobrante = bobinaUtil;

    // Filtrar los pedidos por tipo
    let pedidosC = pedidos.filter(pedido => pedido.tipo === '150-C');
    let pedidosB = pedidos.filter(pedido => pedido.tipo === '150-B');

    // Intentar acomodar solo dos pedidos de tipo 150-C en la bobina utilizable
    let pedidosContados = 0;

    // Procesar pedidos tipo 150-C
    for (let pedido of pedidosC) {
        if (pedidosContados >= 2 && sobrante >= pedido.ancho) {
            pedidosUsados.push(pedido.ancho);
            sobrante -= pedido.ancho;
            pedidosContados++;
        }
    }

    // Mostrar la tabla en consola
    console.table([{
        Bobina: bobina,
        'Pedidos Usados': pedidosUsados.join(", "),
        Sobrante: sobrante
    }]);

    // Si quieres ver los pedidos de tipo '150-B' también
    console.table([{
        Tipo: '150-B',
        'Pedidos Usados': pedidosB.map(p => p.ancho).join(", "),
        Sobrante: sobrante // Si los '150-B' no entran, su sobrante es el mismo
    }]);
}

// Llamamos a la función para calcular
calcularPedidos(bobinaUtil, pedidos);


</script>