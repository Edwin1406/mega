<script>

let pedidos = [
  { "clave": "CJ - FONDO TABACO 10 ECOROSES 982X 262 X 341 K/K TEST 275 ", "valor": 10 },
  { "clave": "CJ- TAPA TABACO 10 ECOROSES 992X 277 X 344 K/K TEST 250 ", "valor": 20 },
  { "clave": "CJ- TAPA QUARTO YOUROSES 982x266x176 B/K TEST 200 ", "valor": 30 },
  { "clave": "REG 21 LAMINA IMP NATUFLOR 33.5X80 DOB MG CEJA 5 CM ", "valor": 100 },
  { "clave": "LAMINA IMP AMC SANBEL FLOWER 35X60 DOB MG CEJA  5 CM ", "valor": 40 },
  {"clave": "LAMINA CORRUGADA BLANCA 10X65 MG","valor":50}
];

// Separar medidas en ancho, largo y (opcionalmente) altura
let pedidosConMedidas = pedidos.map(pedido => {
  // Buscar dos o tres medidas
  let match = pedido.clave.match(/(\d+(\.\d+)?)X\s*(\d+(\.\d+)?)(?:X\s*(\d+(\.\d+)?))?/i);
  
  if (match) {
    return {
      clave: pedido.clave,
      valor: pedido.valor,
      medidas: {
        ancho: parseFloat(match[1]),  // Siempre presente
        largo: parseFloat(match[3]), // Siempre presente
        altura: match[5] ? parseFloat(match[5]) : null // Solo si est√° presente
      }
    };
  } else {
    return { ...pedido, medidas: null }; // Si no encuentra medidas, asigna null
  }
});

console.log(pedidosConMedidas);


</script>