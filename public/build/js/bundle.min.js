!function(){const e=document.querySelector("div .exito");e&&setTimeout(()=>{e.remove()},3e3)}(),function(){const e=document.querySelector("#maquina_id");if(e){let n=[],t=[];const a=document.querySelector("#listado-maquinas");!async function(){const e=location.origin+"/admin/api/maquinas",t=await fetch(e);resultado=await t.json(),function(e=[]){n=e.map(e=>({nombre:""+e.nombre.trim(),id:e.id})),console.log(n)}(resultado)}(),e.addEventListener("input",(function(e){const o=e.target.value;if(o.length>3){const e=new RegExp(o,"i");t=n.filter(n=>{if(-1!=n.nombre.toLowerCase().search(e))return n})}else t=[];!function(){for(;a.firstChild;)a.removeChild(a.firstChild);if(t.length>0)t.forEach(e=>{const n=document.createElement("LI");n.classList.add("listado-maquinas__maquina"),n.textContent=e.nombre,n.dataset.id=e.id,a.appendChild(n)});else{const e=document.createElement("P");e.classList.add("listado-maquinas__no-resultado"),e.textContent="No hay resultados",a.appendChild(e)}}()}))}}(),document.addEventListener("DOMContentLoaded",(function(){!async function(){let e=[];(await async function(){return(await async function(){try{const e="https://serviacrilico.com/admin/api/allpedidos2",n=await fetch(e);return await n.json()}catch(e){console.log(e)}}()).filter(e=>"pendiente"===e.estado_pedido)}()).forEach(n=>{const t=function(e){const[n,t,a,o="N/A"]=/(\d+)(?:X|x)(\d+)\s*(?:X|x)?\s*(\d+)?\s*(CM|cm)?/.exec(e)||[],r=(/\b(K\/K|B\/B|T\/T|B\/k)\b/i.exec(e)||[])[1]||"N/A",i=(/\bTEST (\d+)\b/i.exec(e)||[])[1]||"N/A";let c=(/\bFLAUTA (C|B)\b/i.exec(e)||[])[1]||"C";return/CJ/i.test(e)&&(c="C"),{largo:t||"N/A",ancho:a||"N/A",alto:o,tipo:r,test:i,flauta:c}}(n.nombre_producto),a={id:n.id,nombre_cliente:n.nombre_cliente,numero_pedido:n.numero_pedido,fecha_pedido:n.fecha_pedido,plazo_entrega:n.plazo_entrega,nombre_producto:n.nombre_producto,cantidad:n.cantidad,subtotal:n.subtotal,total:n.total,largo:t.largo,ancho:t.ancho,alto:t.alto,tipo:t.tipo,test:t.test,flauta:t.flauta};e.push(a)}),document.getElementById("pedidos").innerHTML=JSON.stringify(e,null,2),document.getElementById("contador").innerHTML=e.length,console.log(e.length)}()})),function(){var e=document.querySelector("div .exito");e&&setTimeout((function(){e.remove()}),3e3)}(),function(){var e,n,t=document.querySelector("#maquina_id");if(t){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];r=e.map((function(e){return{nombre:"".concat(e.nombre.trim()),id:e.id}})),console.log(r)},o=function(){for(;c.firstChild;)c.removeChild(c.firstChild);if(i.length>0)i.forEach((function(e){var n=document.createElement("LI");n.classList.add("listado-maquinas__maquina"),n.textContent=e.nombre,n.dataset.id=e.id,c.appendChild(n)}));else{var e=document.createElement("P");e.classList.add("listado-maquinas__no-resultado"),e.textContent="No hay resultados",c.appendChild(e)}},r=[],i=[],c=document.querySelector("#listado-maquinas");regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(location.origin,"/admin/api/maquinas"),t.next=4,regeneratorRuntime.awrap(fetch(e));case 4:return n=t.sent,t.next=7,regeneratorRuntime.awrap(n.json());case 7:resultado=t.sent,a(resultado);case 9:case"end":return t.stop()}})),t.addEventListener("input",(function(e){var n=e.target.value;if(n.length>3){var t=new RegExp(n,"i");i=r.filter((function(e){if(-1!=e.nombre.toLowerCase().search(t))return e}))}else i=[];o()}))}}(),function(){var e={liner_id:"",pedido_id:"",pedido2_id:"",bobinaInterna_id:"",bobinaIntermedia_id:"",bobinaExterna_id:""},n=[],t=[];function a(e,a){n=e,t=a,console.log("copia de test:".concat(n)),console.log("copia de bobinas:".concat(t))}if(document.querySelector(".pedidos")){var o=function(n){if(("pedido_id"===n.target.name||"pedido2_id"===n.target.name)&&i.value===c.value)return c.value="",void Swal.fire("Pedido ya seleccionado","No puede seleccionar el mismo pedido","error");e[n.target.name]=n.target.value.trim(),console.log(e),function(){var n,t,o,r;regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.bobinaInterna_id,i.prev=1,t="".concat(location.origin,"/admin/api/apibobinas?bobinaInterna_id=").concat(n),i.next=5,regeneratorRuntime.awrap(fetch(t));case 5:return o=i.sent,i.next=8,regeneratorRuntime.awrap(o.json());case 8:r=i.sent,console.log(r),a(r),i.next=16;break;case 13:i.prev=13,i.t0=i.catch(1),console.log(i.t0);case 16:case"end":return i.stop()}}),null,null,[[1,13]])}(),function(){var n,t,o,r;regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.liner_id,i.prev=1,t="".concat(location.origin,"/admin/api/test?liner_id=").concat(n),i.next=5,regeneratorRuntime.awrap(fetch(t));case 5:return o=i.sent,i.next=8,regeneratorRuntime.awrap(o.json());case 8:a(r=i.sent),console.log(r),i.next=16;break;case 13:i.prev=13,i.t0=i.catch(1),console.log(i.t0);case 16:case"end":return i.stop()}}),null,null,[[1,13]])}(),function(){var n,t,a,o;regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.bobinaExterna_id,r.prev=1,t="".concat(location.origin,"/admin/api/apibobina_externa?bobinaExterna_id=").concat(n),r.next=5,regeneratorRuntime.awrap(fetch(t));case 5:return a=r.sent,r.next=8,regeneratorRuntime.awrap(a.json());case 8:o=r.sent,console.log(o),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(r.t0);case 15:case"end":return r.stop()}}),null,null,[[1,12]])}(),function(){var n,t,a,o;regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.bobinaIntermedia_id,r.prev=1,t="".concat(location.origin,"/admin/api/apibobina_media?bobinaIntermedia_id=").concat(n),r.next=5,regeneratorRuntime.awrap(fetch(t));case 5:return a=r.sent,r.next=8,regeneratorRuntime.awrap(a.json());case 8:o=r.sent,console.log(o),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),console.log(r.t0);case 15:case"end":return r.stop()}}),null,null,[[1,12]])}()},r=document.querySelector('[name="liner_id"]'),i=document.querySelector('[name="pedido_id"]'),c=document.querySelector('[name="pedido2_id"]'),d=document.querySelector('[name="bobinaInterna_id"]'),s=document.querySelector('[name="bobinaIntermedia_id"]'),u=document.querySelector('[name="bobinaExterna_id"]');r.addEventListener("change",o),i.addEventListener("change",o),c.addEventListener("change",o),d.addEventListener("change",o),s.addEventListener("change",o),u.addEventListener("change",o)}}();
//# sourceMappingURL=bundle.js.map
