!function(){const e=document.querySelector("div .exito");e&&setTimeout(()=>{e.remove()},3e3)}(),function(){const e=document.querySelector("#maquina_id");if(e){let n=[],a=[];const t=document.querySelector("#listado-maquinas");!async function(){const e=location.origin+"/admin/api/maquinas",a=await fetch(e);resultado=await a.json(),function(e=[]){n=e.map(e=>({nombre:""+e.nombre.trim(),id:e.id})),console.log(n)}(resultado)}(),e.addEventListener("input",(function(e){const o=e.target.value;if(o.length>3){const e=new RegExp(o,"i");a=n.filter(n=>{if(-1!=n.nombre.toLowerCase().search(e))return n})}else a=[];!function(){for(;t.firstChild;)t.removeChild(t.firstChild);if(a.length>0)a.forEach(e=>{const n=document.createElement("LI");n.classList.add("listado-maquinas__maquina"),n.textContent=e.nombre,n.dataset.id=e.id,t.appendChild(n)});else{const e=document.createElement("P");e.classList.add("listado-maquinas__no-resultado"),e.textContent="No hay resultados",t.appendChild(e)}}()}))}}(),function(){let e={liner_id:"",pedido_id:"",pedido2_id:"",bobinaInterna_id:"",bobinaIntermedia_id:"",bobinaExterna_id:""};async function n(){const{pedido_id:n}=e;try{const e=`${location.origin}/admin/api/pedidos?pedido_id=${n}`,a=await fetch(e),t=await a.json();return console.log(t),t}catch(e){console.log(e)}}async function a(){const{pedido2_id:n}=e;try{const e=`${location.origin}/admin/api/apipedido2?pedido2_id=${n}`,a=await fetch(e),t=await a.json();return console.log(t),t}catch(e){console.log(e)}}async function t(){const{liner_id:n}=e;try{const e=`${location.origin}/admin/api/test?liner_id=${n}`,a=await fetch(e),t=await a.json();return console.log(t),t}catch(e){console.log(e)}}async function o(){const{bobinaInterna_id:n}=e;try{const e=`${location.origin}/admin/api/apibobinas?bobinaInterna_id=${n}`,a=await fetch(e),t=await a.json();return console.log(t),t}catch(e){console.log(e)}}async function i(){const{bobinaExterna_id:n}=e;try{const e=`${location.origin}/admin/api/apibobina_externa?bobinaExterna_id=${n}`,a=await fetch(e),t=await a.json();return console.log(t),t}catch(e){console.log(e)}}async function r(){const{bobinaIntermedia_id:n}=e;try{const e=`${location.origin}/admin/api/apibobina_media?bobinaIntermedia_id=${n}`,a=await fetch(e),t=await a.json();return console.log(t),t}catch(e){console.log(e)}}function c(e,n,a,t,o){Swal.fire({title:e,text:n,icon:a,iconColor:t,confirmButtonText:"Entendido",confirmButtonColor:"#3085d6",background:o,color:"#000000",customClass:{popup:"swal-wide"}})}async function d(){const e=await o(),n=await i(),a=await r(),d=await t(),s=parseFloat(e.gramaje)||0,l=parseFloat(n.gramaje)||0,u=parseFloat(a.gramaje)||0,m=s+l+u,p=parseFloat(d.peso);if(s>0&&l>0&&u>0)return async function(){const e=await o(),n=await i(),a=await r(),t=parseFloat(e.ancho)||0,d=parseFloat(a.ancho)||0,s=parseFloat(n.ancho)||0;t&&d&&s?t===d&&d===s?setTimeout(()=>{c("Ancho correcto",`Los anchos de las bobinas seleccionadas son iguales: ${t} cm`,"success","#28a745","#d4edda")},4e3):setTimeout(()=>{c("Anchos incorrectos",`Los anchos de las bobinas seleccionadas no coinciden: Int: ${t} cm, Media: ${d} cm`,"error","#ff0000","#f8d7da")},4e3):console.log("Error: Los anchos internos y medios deben estar llenos")}(),p===m?(console.log("Gramaje total:",m),document.getElementById("gramaje_total").value=m,c("Gramaje correcto",`El gramaje total de las bobinas seleccionadas es: ${m} gr`,"success","#28a745","#d4edda"),m):(c("Gramaje no coincide",`Gramaje recomendado para el test ${d.test} : Int: ${d.liner_interno}gr, Media: `+d.liner_medio+"gr, Externo: "+d.liner_externo+"gr","error","#ff0000","#f8d7da"),void(document.getElementById("gramaje_total").value=""));console.log("AÃºn no se han seleccionado todas las bobinas necesarias.")}if(document.querySelector("#pedido")){const c=document.querySelector('[name="liner_id"]'),l=document.querySelector('[name="pedido_id"]'),u=document.querySelector('[name="pedido2_id"]'),m=document.querySelector('[name="bobinaInterna_id"]'),p=document.querySelector('[name="bobinaIntermedia_id"]'),g=document.querySelector('[name="bobinaExterna_id"]');function s(c){if(("pedido_id"===c.target.name||"pedido2_id"===c.target.name)&&l.value===u.value)return u.value="",void Swal.fire("Pedido ya seleccionado","No puede seleccionar el mismo pedido","error");e[c.target.name]=c.target.value.trim(),console.log(e),o(),t(),i(),r(),d(),n(),a(),async function(){const e=await n(),t=await a(),o=(parseFloat(e.ancho)||0)+(parseFloat(t.ancho)||0);console.log("Ancho total de los pedidos:",o)}()}c.addEventListener("change",s),l.addEventListener("change",s),u.addEventListener("change",s),m.addEventListener("change",s),p.addEventListener("change",s),g.addEventListener("change",s)}}(),function(){var e=document.querySelector("div .exito");e&&setTimeout((function(){e.remove()}),3e3)}(),function(){var e,n,a=document.querySelector("#maquina_id");if(a){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i=e.map((function(e){return{nombre:"".concat(e.nombre.trim()),id:e.id}})),console.log(i)},o=function(){for(;c.firstChild;)c.removeChild(c.firstChild);if(r.length>0)r.forEach((function(e){var n=document.createElement("LI");n.classList.add("listado-maquinas__maquina"),n.textContent=e.nombre,n.dataset.id=e.id,c.appendChild(n)}));else{var e=document.createElement("P");e.classList.add("listado-maquinas__no-resultado"),e.textContent="No hay resultados",c.appendChild(e)}},i=[],r=[],c=document.querySelector("#listado-maquinas");regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e="".concat(location.origin,"/admin/api/maquinas"),a.next=4,regeneratorRuntime.awrap(fetch(e));case 4:return n=a.sent,a.next=7,regeneratorRuntime.awrap(n.json());case 7:resultado=a.sent,t(resultado);case 9:case"end":return a.stop()}})),a.addEventListener("input",(function(e){var n=e.target.value;if(n.length>3){var a=new RegExp(n,"i");r=i.filter((function(e){if(-1!=e.nombre.toLowerCase().search(a))return e}))}else r=[];o()}))}}(),function(){var e={liner_id:"",pedido_id:"",pedido2_id:"",bobinaInterna_id:"",bobinaIntermedia_id:"",bobinaExterna_id:""},n=[],a=[];function t(e,t){n=e,a=t,console.log("copia de test:".concat(n)),console.log("copia de bobinas:".concat(a))}if(document.querySelector(".pedidos")){var o=function(n){if(("pedido_id"===n.target.name||"pedido2_id"===n.target.name)&&r.value===c.value)return c.value="",void Swal.fire("Pedido ya seleccionado","No puede seleccionar el mismo pedido","error");e[n.target.name]=n.target.value.trim(),console.log(e),function(){var n,a,o,i;regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.bobinaInterna_id,r.prev=1,a="".concat(location.origin,"/admin/api/apibobinas?bobinaInterna_id=").concat(n),r.next=5,regeneratorRuntime.awrap(fetch(a));case 5:return o=r.sent,r.next=8,regeneratorRuntime.awrap(o.json());case 8:i=r.sent,console.log(i),t(i),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),console.log(r.t0);case 16:case"end":return r.stop()}}),null,null,[[1,13]])}(),function(){var n,a,o,i;regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.liner_id,r.prev=1,a="".concat(location.origin,"/admin/api/test?liner_id=").concat(n),r.next=5,regeneratorRuntime.awrap(fetch(a));case 5:return o=r.sent,r.next=8,regeneratorRuntime.awrap(o.json());case 8:t(i=r.sent),console.log(i),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(1),console.log(r.t0);case 16:case"end":return r.stop()}}),null,null,[[1,13]])}(),function(){var n,a,t,o;regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.bobinaExterna_id,i.prev=1,a="".concat(location.origin,"/admin/api/apibobina_externa?bobinaExterna_id=").concat(n),i.next=5,regeneratorRuntime.awrap(fetch(a));case 5:return t=i.sent,i.next=8,regeneratorRuntime.awrap(t.json());case 8:o=i.sent,console.log(o),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(1),console.log(i.t0);case 15:case"end":return i.stop()}}),null,null,[[1,12]])}(),function(){var n,a,t,o;regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n=e.bobinaIntermedia_id,i.prev=1,a="".concat(location.origin,"/admin/api/apibobina_media?bobinaIntermedia_id=").concat(n),i.next=5,regeneratorRuntime.awrap(fetch(a));case 5:return t=i.sent,i.next=8,regeneratorRuntime.awrap(t.json());case 8:o=i.sent,console.log(o),i.next=15;break;case 12:i.prev=12,i.t0=i.catch(1),console.log(i.t0);case 15:case"end":return i.stop()}}),null,null,[[1,12]])}()},i=document.querySelector('[name="liner_id"]'),r=document.querySelector('[name="pedido_id"]'),c=document.querySelector('[name="pedido2_id"]'),d=document.querySelector('[name="bobinaInterna_id"]'),s=document.querySelector('[name="bobinaIntermedia_id"]'),l=document.querySelector('[name="bobinaExterna_id"]');i.addEventListener("change",o),r.addEventListener("change",o),c.addEventListener("change",o),d.addEventListener("change",o),s.addEventListener("change",o),l.addEventListener("change",o)}}();
//# sourceMappingURL=bundle.js.map
