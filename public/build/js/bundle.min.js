!function(){const e=document.querySelector("div .exito");e&&setTimeout(()=>{e.remove()},3e3)}(),function(){const e=document.querySelector("#maquina_id");if(e){let t=[],o=[];const n=document.querySelector("#listado-maquinas");!async function(){const e=location.origin+"/admin/api/maquinas",o=await fetch(e);resultado=await o.json(),function(e=[]){t=e.map(e=>({nombre:""+e.nombre.trim(),id:e.id})),console.log(t)}(resultado)}(),e.addEventListener("input",(function(e){const a=e.target.value;if(a.length>3){const e=new RegExp(a,"i");o=t.filter(t=>{if(-1!=t.nombre.toLowerCase().search(e))return t})}else o=[];!function(){for(;n.firstChild;)n.removeChild(n.firstChild);if(o.length>0)o.forEach(e=>{const t=document.createElement("LI");t.classList.add("listado-maquinas__maquina"),t.textContent=e.nombre,t.dataset.id=e.id,n.appendChild(t)});else{const e=document.createElement("P");e.classList.add("listado-maquinas__no-resultado"),e.textContent="No hay resultados",n.appendChild(e)}}()}))}}(),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#filtros_ventas");e&&e.addEventListener("input",(function(){const e=this.value.toLowerCase();document.querySelectorAll("#tabla .table__tr").forEach(t=>{const o=t.cells[0].textContent.toLowerCase(),n=t.cells[1].textContent.toLowerCase(),a=t.cells[2].textContent.toLowerCase(),i=t.cells[3].textContent.toLowerCase(),r=t.cells[4].textContent.toLowerCase();console.log(o,n,a,i,r),o.includes(e)||n.includes(e)||a.includes(e)||i.includes(e)||r.includes(e)?t.style.display="":t.style.display="none"})}))})),function(){Quagga.init({inputStream:{type:"LiveStream",target:document.querySelector("#scanner"),constraints:{facingMode:"environment",width:400,height:250}},decoder:{readers:["code_128_reader"]}},(function(e){e?console.error(e):Quagga.start()})),Quagga.onDetected(n=>{const a=n.codeResult.code,i=(new Date).getTime();t[a]&&i-t[a]<2e3||(t[a]=i,console.log("Código detectado:",a),async function(t){const n=document.getElementById("status");try{const a=await fetch(e);if(!a.ok)throw new Error("Error al cargar la API");const i=(await a.json()).find(e=>e.barcode===t);i?(n.textContent=`Producto ${t} encontrado. Redirigiendo...`,n.style.color="#28a745",o("Producto encontrado: Redirigiendo al ID "+i.id),setTimeout(()=>{window.open(`${location.origin}/admin/produccion/materia/editar?id=${i.id}`,"_blank")},3e3)):(n.textContent=`Código ${t} no encontrado en la base de datos.`,n.style.color="#dc3545",o(`Código ${t} no encontrado.`))}catch(e){console.error("Error al buscar el producto:",e),n.textContent="Error al buscar el producto.",n.style.color="#dc3545",o("Error al buscar el producto.")}}(a))});const e=location.origin+"/admin/api/ApiMateriaPrima";let t={};function o(e){const t=document.getElementById("notificacion");t.textContent=e,t.classList.add("mostrar"),setTimeout(()=>{t.classList.remove("mostrar")},3e3)}}();
//# sourceMappingURL=bundle.js.map
