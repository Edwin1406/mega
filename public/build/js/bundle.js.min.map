{"version":3,"sources":["alertas.js","app.js","cotizador.js","dist/alertas.dev.js","dist/app.dev.js","dist/cotizador.dev.js"],"names":["alertaCotizador","document","querySelector","setTimeout","remove","maquinaInput","maquinas","maquinasFiltradas","listadoMaquinas","async","url","location","origin","respuesta","fetch","resultado","json","arrayMaquinas","map","maquina","nombre","trim","id","console","log","formatearMaquinas","obtenerMaquinas","addEventListener","e","busqueda","target","value","length","expresion","RegExp","filter","toLowerCase","search","firstChild","removeChild","forEach","maquinaHTML","createElement","classList","add","textContent","dataset","appendChild","noResultado","mostrarMaquinas","test","liner_id","pedido_id","pedido2_id","bobinaInterna_id","bobinaIntermedia_id","bobinaExterna_id","ApiPedidos","apipedidos","ApiPedido2","apipedido2","AllBobinas","allbobinas","error","ApiTest","apitest","ApiBobinas","apibobinas","ApiBobina_externa","apibobinasExterna","ApiBobina_media","apibobinasMedia","mostrarAlerta","titulo","mensaje","tipo","color","fondo","Swal","fire","title","text","icon","iconColor","confirmButtonText","confirmButtonColor","background","customClass","popup","sumargramaje","bobinaInterna","bobinaExterna","bobinaMedia","gramajeInterna","parseFloat","gramaje","gramajeExterna","gramajeMedia","gramajeTotal","pesoTest","peso","anchoInterno","ancho","anchoMedia","anchoExterno","verificarAnchoBobinas","getElementById","liner_interno","liner_medio","liner_externo","AllPedidos","liner","pedido","pedido2","bobinaIntermedia","name","allanchospedidos","pedidoSeleccionado","bobinas","seleccionado","testNormal","anchosFiltrados","todos","anchoEncontrado","find","suma","bobinasUnicas","bobina","index","self","indexOf","bobinaIdeal","pruebasuma","testscripting","scripting","ect","scripting2","scripting3","scripting4","resultList","innerHTML","listItem","listItem2","listItem3","listItem4","scriptingTest","includes","testPedido","testN","TestPedido","anchoPedido1","anchoPedido2","anchoTotal","bobinasFiltradas","anchoBobina","bobinasSinDuplicados","anchosVistos","Set","has","push","sort","a","b","Math","abs","bobinaconRefile","sumarAnchosPedidos","arguments","undefined","concat","regeneratorRuntime","_context","prev","next","awrap","sent","stop","copiaTest","copiaBobinas","copiarDatos","_context2","t0","_context3","_context4"],"mappings":"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","file":"bundle.js","sourcesContent":["(function() {\r\n\r\n    const alertaCotizador = document.querySelector('div .exito');\r\n    if(alertaCotizador) {\r\n        setTimeout(() => {\r\n            alertaCotizador.remove();\r\n        }, 3000);\r\n    }\r\n\r\n\r\n})();","(function(){\r\n    const maquinaInput = document.querySelector('#maquina_id');\r\n    if(maquinaInput){\r\n        let maquinas= [];\r\n        let maquinasFiltradas = [];\r\n\r\n        const listadoMaquinas = document.querySelector('#listado-maquinas');\r\n        obtenerMaquinas();\r\n\r\n        maquinaInput.addEventListener('input',buscarMaquinas);\r\n\r\n        async function obtenerMaquinas(){\r\n            const url = `${location.origin}/admin/api/maquinas`;;\r\n            const respuesta = await fetch(url);\r\n            resultado = await respuesta.json();\r\n            formatearMaquinas(resultado);\r\n        }\r\n\r\n\r\n        function formatearMaquinas(arrayMaquinas=[]){\r\n            maquinas = arrayMaquinas.map(maquina => {\r\n                return {\r\n                    nombre: `${maquina.nombre.trim()}`,\r\n                    id: maquina.id\r\n                }\r\n            });\r\n\r\n            console.log(maquinas);\r\n\r\n        }\r\n\r\n\r\n        function buscarMaquinas(e){\r\n           const busqueda = e.target.value;\r\n\r\n           if(busqueda.length>3){\r\n            const expresion = new RegExp(busqueda, 'i');\r\n            maquinasFiltradas = maquinas.filter(maquina =>{\r\n                if(maquina.nombre.toLowerCase().search(expresion) != -1){\r\n                    return maquina;\r\n\r\n                }\r\n            });\r\n           }else{\r\n                maquinasFiltradas = [];\r\n           }\r\n           mostrarMaquinas();\r\n        }\r\n\r\n        function mostrarMaquinas(){\r\n            while(listadoMaquinas.firstChild){\r\n                listadoMaquinas.removeChild(listadoMaquinas.firstChild);\r\n            }\r\n\r\n            if(maquinasFiltradas.length >0){\r\n                maquinasFiltradas.forEach (maquina =>{\r\n                    const maquinaHTML = document.createElement('LI');\r\n                    maquinaHTML.classList.add('listado-maquinas__maquina');\r\n                    maquinaHTML.textContent = maquina.nombre;\r\n                    maquinaHTML.dataset.id = maquina.id;\r\n    \r\n                    // anadir al html\r\n                    listadoMaquinas.appendChild(maquinaHTML);\r\n                })\r\n\r\n            }else{\r\n                const noResultado = document.createElement('P');\r\n                noResultado.classList.add('listado-maquinas__no-resultado');\r\n                noResultado.textContent = 'No hay resultados';\r\n                listadoMaquinas.appendChild(noResultado);\r\n            }\r\n\r\n\r\n\r\n          \r\n        }\r\n\r\n    }\r\n})();\r\n\r\n","(function(){\r\n\r\n    let Extratrim = 50;\r\n    console.log(Extratrim);\r\n\r\n    let test ={\r\n        liner_id : '',\r\n        pedido_id : '',\r\n        pedido2_id : '',\r\n        bobinaInterna_id : '',\r\n        bobinaIntermedia_id : '',\r\n        bobinaExterna_id : ''\r\n        }\r\n    \r\n    // obtener datos del api de pedidos\r\n    async function ApiPedidos(){\r\n        const {pedido_id} = test;\r\n        \r\n        try {\r\n            const url = `${location.origin}/admin/api/pedidos?pedido_id=${pedido_id}`;\r\n            const resultado = await fetch(url);\r\n            const apipedidos = await resultado.json();\r\n            console.log(apipedidos);\r\n            return apipedidos\r\n        } catch (e) {\r\n            console.log(e);\r\n                \r\n        }\r\n    } \r\n    async function ApiPedido2(){\r\n        const {pedido2_id} = test;\r\n        \r\n        try {\r\n            const url = `${location.origin}/admin/api/apipedido2?pedido2_id=${pedido2_id}`;\r\n            const resultado = await fetch(url);\r\n            const apipedido2 = await resultado.json();\r\n            console.log(apipedido2);\r\n            return apipedido2\r\n        } catch (e) {\r\n            console.log(e);\r\n                \r\n        }\r\n    } \r\n\r\n    async function AllBobinas(){\r\n        try {   \r\n            const url = `${location.origin}/admin/api/allbobinas`;\r\n            const resultado = await fetch(url);\r\n            const allbobinas = await resultado.json();\r\n            console.log(allbobinas);\r\n            return allbobinas\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    // obtener datos del api de test\r\n    async function ApiTest(){\r\n        const {liner_id} = test;\r\n        try {\r\n            const url = `${location.origin}/admin/api/test?liner_id=${liner_id}`;\r\n            const resultado = await fetch(url);\r\n            const apitest = await resultado.json();\r\n            // copiarDatos(apitest);\r\n           console.log(apitest)\r\n           return apitest\r\n        } catch (e) {\r\n          console.log(e);\r\n            \r\n        }\r\n    \r\n    }   \r\n \r\n\r\n    // obtener datos del api de bobinas\r\n\r\n    async function ApiBobinas(){\r\n        const {bobinaInterna_id} = test;\r\n        try {\r\n            const url = `${location.origin}/admin/api/apibobinas?bobinaInterna_id=${bobinaInterna_id}`;\r\n            const resultado = await fetch(url);\r\n            const apibobinas = await resultado.json();\r\n            console.log(apibobinas);\r\n           return apibobinas\r\n           \r\n        } catch (e) {\r\n          console.log(e);\r\n            \r\n        }\r\n    \r\n    }\r\n\r\n\r\n    async function ApiBobina_externa(){\r\n        const {bobinaExterna_id} = test;\r\n        try {\r\n            const url = `${location.origin}/admin/api/apibobina_externa?bobinaExterna_id=${bobinaExterna_id}`;\r\n            const resultado = await fetch(url);\r\n            const apibobinasExterna = await resultado.json();\r\n            console.log(apibobinasExterna);\r\n            // mostrarApibobinas(apibobinas);\r\n            return apibobinasExterna\r\n           \r\n        } catch (e) {\r\n          console.log(e);\r\n            \r\n        }\r\n    \r\n    }\r\n    async function ApiBobina_media(){\r\n        const {bobinaIntermedia_id} = test;\r\n        try {\r\n            const url = `${location.origin}/admin/api/apibobina_media?bobinaIntermedia_id=${bobinaIntermedia_id}`;\r\n            const resultado = await fetch(url);\r\n            const apibobinasMedia = await resultado.json();\r\n            console.log(apibobinasMedia);\r\n            // mostrarApibobinas(apibobinas);\r\n            return apibobinasMedia\r\n           \r\n        } catch (e) {\r\n          console.log(e);\r\n            \r\n        }\r\n    \r\n    }\r\n\r\n\r\n    // FUNCION PARA MOSTRAR ALERTA \r\n\r\n    function mostrarAlerta(titulo,mensaje,tipo,color,fondo){\r\n        Swal.fire({ \r\n            title: titulo,\r\n            text: mensaje,\r\n            icon: tipo,\r\n            iconColor: color,  // Color del ícono\r\n            confirmButtonText: \"Entendido\",\r\n            confirmButtonColor: \"#3085d6\",\r\n            background: fondo, // Color de fondo del cuadro de alerta\r\n            color: \"#000000\", // Color del texto\r\n            customClass: {\r\n                popup: 'swal-wide'  // Clase CSS personalizada para ajustar el ancho\r\n            },\r\n        });\r\n       \r\n    }\r\n\r\n    // FUNCION PARA SUMAR EL GRAMAJE DE LAS BOBINAS Y COMPARAR CON EL TEST\r\n\r\n    async function sumargramaje() {\r\n       // Llamamos a cada API para obtener los datos\r\n        const bobinaInterna = await ApiBobinas();\r\n        const bobinaExterna = await ApiBobina_externa();\r\n        const bobinaMedia = await ApiBobina_media();\r\n        const test = await ApiTest();\r\n\r\n        // Convertimos el gramaje de cada bobina a número y validamos que se hayan recibido correctamente\r\n        const gramajeInterna = parseFloat(bobinaInterna.gramaje) || 0;\r\n        const gramajeExterna = parseFloat(bobinaExterna.gramaje) || 0;\r\n        const gramajeMedia = parseFloat(bobinaMedia.gramaje) || 0;\r\n\r\n        // Calculamos el gramaje total\r\n        const gramajeTotal = gramajeInterna + gramajeExterna + gramajeMedia;\r\n\r\n        // Obtenemos el peso del test para la comparación\r\n        const pesoTest = parseFloat(test.peso);\r\n\r\n        // Verificamos que todas las bobinas tengan un gramaje válido antes de comparar\r\n        if (gramajeInterna > 0 && gramajeExterna > 0 && gramajeMedia > 0) {\r\n            verificarAnchoBobinas();\r\n            if (pesoTest === gramajeTotal) {\r\n                console.log(\"Gramaje total:\", gramajeTotal);\r\n                document.getElementById(\"gramaje_total\").value = gramajeTotal;\r\n                mostrarAlerta('Gramaje correcto',`El gramaje total de las bobinas seleccionadas es: ${gramajeTotal} gr`,'success','#28a745','#d4edda');\r\n\r\n                return gramajeTotal;\r\n            } else {\r\n                \r\n                mostrarAlerta('Gramaje no coincide',`Gramaje recomendado para el test ${test.test} : Int: ${test.liner_interno}` + \"gr, Media: \" + test.liner_medio + \"gr, Externo: \" + test.liner_externo + \"gr\",'error','#ff0000','#f8d7da');\r\n\r\n                document.getElementById(\"gramaje_total\").value = \"\";\r\n                \r\n                return;\r\n            }\r\n        } else {\r\n            console.log(\"Aún no se han seleccionado todas las bobinas necesarias.\");\r\n        }\r\n\r\n    }\r\n\r\n   \r\n        async function verificarAnchoBobinas() {\r\n  \r\n            // Llamamos a cada API para obtener los datos\r\n        const bobinaInterna = await ApiBobinas();\r\n        const bobinaExterna = await ApiBobina_externa();\r\n        const bobinaMedia = await ApiBobina_media();\r\n       // Obtenemos los anchos de las bobinas\r\n        const anchoInterno = parseFloat(bobinaInterna.ancho) || 0;\r\n        const anchoMedia = parseFloat(bobinaMedia.ancho) || 0;\r\n        const anchoExterno = parseFloat(bobinaExterna.ancho) || 0;\r\n\r\n        // Verificamos que los campos de ancho no estén vacíos\r\n        if (anchoInterno && anchoMedia && anchoExterno) {\r\n            // Comprobamos si los anchos son iguales\r\n            if (anchoInterno === anchoMedia && anchoMedia === anchoExterno) {\r\n             // Mostrar la alerta después de 30 segundos\r\n                setTimeout(() => {\r\n                    mostrarAlerta('Ancho correcto', `Los anchos de las bobinas seleccionadas son iguales: ${anchoInterno} cm`, 'success', '#28a745', '#d4edda');\r\n                    \r\n                }, 4000); \r\n\r\n\r\n            } else {\r\n                setTimeout(() => {\r\n                    mostrarAlerta('Anchos incorrectos', `Los anchos de las bobinas seleccionadas no coinciden: Int: ${anchoInterno} cm, Media: ${anchoMedia} cm`,'error','#ff0000','#f8d7da');\r\n                \r\n                    // const bobinaInterna = document.querySelector('[name=\"bobinaInterna_id\"]')\r\n                    // const bobinaIntermedia = document.querySelector('[name=\"bobinaIntermedia_id\"]')\r\n                    // const bobinaExterna = document.querySelector('[name=\"bobinaExterna_id\"]')\r\n                    // bobinaInterna.value = ''\r\n                    // bobinaIntermedia.value = ''\r\n                    // bobinaExterna.value = ''\r\n                }, 4000); \r\n\r\n            }\r\n        } else {\r\n            console.log(\"Error: Los anchos internos y medios deben estar llenos\");\r\n        }\r\n\r\n    }\r\n\r\n\r\n    // funcion para sumar los anchos de los peddios \r\n\r\n    // async function sumarAnchosPedidos() {\r\n    //     const anchoPedido1 = await ApiPedidos();\r\n    //     const anchoPedido2 = await ApiPedido2();\r\n    //     const allbobinas = await AllBobinas();\r\n    \r\n    //     const pedido1 = parseFloat(anchoPedido1.ancho) || 0;\r\n    //     const pedido2 = parseFloat(anchoPedido2.ancho) || 0;\r\n    \r\n    //     const anchoTotal = pedido1 + pedido2;\r\n    \r\n    //     console.log(\"Ancho total de los pedidos:\", anchoTotal);\r\n    \r\n    //     // Filtrar las bobinas que cumplen las condiciones: ancho >= anchoTotal y <= 2000\r\n    //     const bobinasFiltradas = allbobinas.filter(bobina => {\r\n    //         const anchoBobina = parseFloat(bobina.ancho);\r\n    //         return anchoBobina >= anchoTotal && anchoBobina <= 2000;\r\n    //     });\r\n    \r\n    //     // Eliminar duplicados usando un Set para los anchos\r\n    //     const bobinasSinDuplicados = [];\r\n    //     const anchosVistos = new Set();\r\n    \r\n    //     for (let bobina of bobinasFiltradas) {\r\n    //         const anchoBobina = parseFloat(bobina.ancho);\r\n    //         if (!anchosVistos.has(anchoBobina)) {\r\n    //             bobinasSinDuplicados.push(bobina);\r\n    //             anchosVistos.add(anchoBobina);\r\n    //         }\r\n    //     }\r\n    \r\n    //     // Ordenar las bobinas por la diferencia más pequeña con el anchoTotal\r\n    //     const bobinasOrdenadas = bobinasSinDuplicados.sort((a, b) => {\r\n    //         const diferenciaA = Math.abs(parseFloat(a.ancho) - anchoTotal);\r\n    //         const diferenciaB = Math.abs(parseFloat(b.ancho) - anchoTotal);\r\n    //         return diferenciaA - diferenciaB;\r\n    //     });\r\n    \r\n    //     // Tomar las tres primeras bobinas de la lista ordenada\r\n    //     const tresBobinasIdeales = bobinasOrdenadas.slice(0, 3);\r\n    \r\n    //     // Restar 30mm a cada bobina ideal como refile\r\n    //     tresBobinasIdeales.forEach(bobina => {\r\n    //         bobina.ancho = parseFloat(bobina.ancho) - 30;\r\n    //     });\r\n    \r\n    //     if (tresBobinasIdeales.length > 0) {\r\n               \r\n    //         const bobinaideal = document.getElementById(\"bobinaIdealAncho\");\r\n    //         bobinaideal.innerHTML = tresBobinasIdeales.map(bobina => {\r\n    //         return `<option value=\"${bobina.id}\">${bobina.ancho} mm  sin refile:${bobina.ancho+30}</option>`;\r\n    //         } );\r\n    //     } else {\r\n    //         console.log(\"No se encontraron bobinas que cumplan con los requisitos.\");\r\n    //     }\r\n    // }\r\n    \r\n    \r\n\r\n    async function sumarAnchosPedidos() {\r\n        const anchoPedido1 = await ApiPedidos();\r\n        const anchoPedido2 = await ApiPedido2();\r\n        const allbobinas = await AllBobinas();\r\n\r\n        console.log(anchoPedido1.id);\r\n    \r\n        const pedido1 = parseFloat(anchoPedido1.ancho) || 0;\r\n        const pedido2 = parseFloat(anchoPedido2.ancho) || 0;\r\n    \r\n        const anchoTotal = pedido1 + pedido2;\r\n    \r\n        console.log(\"Ancho total de los pedidos:\", anchoTotal);\r\n    \r\n        // Filtrar las bobinas que cumplen las condiciones: ancho >= anchoTotal y <= 2000\r\n        const bobinasFiltradas = allbobinas.filter(bobina => {\r\n            const anchoBobina = parseFloat(bobina.ancho);\r\n            return anchoBobina >= anchoTotal && anchoBobina <= 2000;\r\n        });\r\n    \r\n        // Eliminar duplicados usando un Set para los anchos\r\n        const bobinasSinDuplicados = [];\r\n        const anchosVistos = new Set();\r\n    \r\n        for (let bobina of bobinasFiltradas) {\r\n            const anchoBobina = parseFloat(bobina.ancho);\r\n            if (!anchosVistos.has(anchoBobina)) {\r\n                bobinasSinDuplicados.push(bobina);\r\n                anchosVistos.add(anchoBobina);\r\n            }\r\n        }\r\n    \r\n        // Ordenar las bobinas por la diferencia más pequeña con el anchoTotal\r\n        const bobinasOrdenadas = bobinasSinDuplicados.sort((a, b) => {\r\n            const diferenciaA = Math.abs(parseFloat(a.ancho) - anchoTotal);\r\n            const diferenciaB = Math.abs(parseFloat(b.ancho) - anchoTotal);\r\n            return diferenciaA - diferenciaB;\r\n        });\r\n    \r\n        // Seleccionar solo la primera bobina ideal y aplicar el refile de -30 mm\r\n        const bobinaIdeal = bobinasOrdenadas[0];\r\n        if (bobinaIdeal) {\r\n            const bobinaconRefile = bobinaIdeal.ancho = parseFloat(bobinaIdeal.ancho);\r\n            mostrarAlerta(\"Bobina ideal encontrada\", `Ancho ideal: ${bobinaIdeal.ancho} mm  -30 : ${bobinaconRefile -30}`, \"success\" , \"#28a745\", \"#d4edda\");\r\n        } else {\r\n            console.log(\"No se encontró una bobina que cumpla con los requisitos.\");\r\n        }\r\n    }\r\n    \r\n\r\n\r\n    // FUNCION ALL PEDIDOS \r\n    AllPedidos();\r\n    async function AllPedidos(){\r\n        try {\r\n            const url = `${location.origin}/admin/api/allpedidos`;\r\n            const resultado = await fetch(url);\r\n            const allpedidos = await resultado.json();\r\n            // console.log(allpedidos);\r\n            return allpedidos\r\n        } catch (e) {\r\n            console.log(e);\r\n                \r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    // FUNCION PRUEBA DE SUMA\r\n\r\n\r\n    \r\n    // async function pruebasuma() {\r\n    //     try {\r\n    //         const test = await ApiTest();\r\n    //         const allanchospedidos = await AllPedidos();\r\n    //         const pedidoSeleccionado = await ApiPedidos();\r\n    //         const bobinas = await AllBobinas();\r\n    \r\n    //         const seleccionado = parseFloat(pedidoSeleccionado.ancho) || 0;\r\n    //         const testNormal = parseFloat(test.test) || 0;\r\n    \r\n    //         console.log(`testNormal: ${testNormal}`);\r\n    \r\n    //         // Convertimos todos los anchos a número para asegurarnos y filtramos por el mismo test\r\n    //         const anchosFiltrados = allanchospedidos\r\n    //             .filter(todos => parseFloat(todos.test) === testNormal)\r\n    //             .map(todos => ({ ...todos, ancho: parseFloat(todos.ancho) }));\r\n    \r\n    //         console.log(anchosFiltrados);\r\n\r\n    //         const anchoEncontrado = anchosFiltrados.find(todos => \r\n    //             todos.id !== pedidoSeleccionado.id && // Excluye el propio pedido seleccionado\r\n    //             todos.ancho >= seleccionado - 500 && todos.ancho <= seleccionado + 500\r\n    //         );\r\n            \r\n            \r\n    \r\n    //         if (anchoEncontrado) {\r\n    //             const suma = seleccionado + anchoEncontrado.ancho;\r\n    //             console.log(`Ancho seleccionado: ${seleccionado}`);\r\n    //             console.log(`Ancho encontrado: ${anchoEncontrado.ancho}`);\r\n    //             console.log(`Suma: ${suma}`);\r\n    //         } else {\r\n    //             console.log(\"No se encontró ningún ancho que cumpla con la condición.\");\r\n    //         }\r\n    \r\n    //     } catch (error) {\r\n    //         console.error(\"Error al realizar la suma:\", error);\r\n    //     }\r\n    // }\r\n    async function pruebasuma() {\r\n        try {\r\n            const test = await ApiTest();\r\n            const allanchospedidos = await AllPedidos();\r\n            const pedidoSeleccionado = await ApiPedidos();\r\n            const bobinas = await AllBobinas();\r\n    \r\n            const seleccionado = parseFloat(pedidoSeleccionado.ancho) || 0;\r\n            const testNormal = parseFloat(test.test) || 0;\r\n    \r\n            console.log(`testNormal: ${testNormal}`);\r\n    \r\n            // Convertimos todos los anchos a número para asegurarnos y filtramos por el mismo test\r\n            const anchosFiltrados = allanchospedidos\r\n                .filter(todos => parseFloat(todos.test) === testNormal)\r\n                .map(todos => ({ ...todos, ancho: parseFloat(todos.ancho) }));\r\n    \r\n            console.log(\"Pedidos filtrados:\", anchosFiltrados);\r\n    \r\n            // Buscar un ancho cercano al seleccionado\r\n            const anchoEncontrado = anchosFiltrados.find(todos => \r\n                todos.id !== pedidoSeleccionado.id && // Excluye el propio pedido seleccionado\r\n                todos.ancho >= seleccionado - 1000 && todos.ancho <= seleccionado + 1000\r\n            );\r\n    \r\n            if (anchoEncontrado) {\r\n                const suma = seleccionado + anchoEncontrado.ancho;\r\n                console.log(`Ancho seleccionado: ${seleccionado}`);\r\n                console.log(`Ancho encontrado: ${anchoEncontrado.ancho}`);\r\n                console.log(`Suma: ${suma}`);\r\n    \r\n                // Eliminar bobinas repetidas (por ancho) y convertir a números\r\n                const bobinasUnicas = bobinas\r\n                    .map(bobina => parseFloat(bobina.ancho))\r\n                    .filter((ancho, index, self) => self.indexOf(ancho) === index);\r\n    \r\n                console.log(\"Bobinas únicas:\", bobinasUnicas);\r\n    \r\n                // Buscar una bobina que pueda contener la suma de los anchos\r\n                const bobinaIdeal = bobinasUnicas.find(bobina => bobina >= suma);\r\n    \r\n                if (bobinaIdeal) {\r\n                    console.log(`Bobina ideal encontrada: ${bobinaIdeal}`);\r\n                } else {\r\n                    console.log(\"No se encontró una bobina adecuada para la suma.\");\r\n                }\r\n            } else {\r\n                console.log(\"No se encontró ningún ancho que cumpla con la condición.\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error al realizar la operación:\", error);\r\n        }\r\n    }\r\n    \r\n\r\n\r\n\r\n\r\n    // FUNCION TEST IGUAL AL TEST DEL PEDIDO\r\n    async function TestPedido(){\r\n        const testNormal = await ApiTest();\r\n        const testPedido = await ApiPedidos();\r\n\r\n        const testN = parseFloat(testNormal.test);\r\n        const testP = parseFloat(testPedido.test) ?? '';\r\n\r\n\r\n        if(testP=== testN){\r\n            console.log(\"Test coincide\");\r\n            mostrarAlerta(\"Test coincide\", \"El test del pedido coincide con el test del liner\", \"success\", \"#28a745\", \"#d4edda\");\r\n            return\r\n        }else{\r\n            document.querySelector('[name=\"pedido_id\"]').value = '';\r\n            mostrarAlerta(\"Test no coincide\", \"El test del pedido no coincide con el test del liner\", \"error\", \"#ff0000\", \"#f8d7da\");\r\n            return\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n   \r\n    async function scriptingTest() {\r\n        const testscripting = await ApiTest();\r\n\r\n        const scripting = parseFloat(testscripting.ect) || 0;\r\n        const scripting2 = testscripting.liner_interno || 0;\r\n        const scripting3 = testscripting.liner_medio || 0;\r\n        const scripting4 = testscripting.liner_externo || 0;\r\n\r\n        // Obtener el elemento de la lista\r\n        const resultList = document.getElementById('resultList');\r\n\r\n        // Limpiar la lista antes de agregar nuevos elementos\r\n        resultList.innerHTML = '';\r\n\r\n        // Crear nuevos elementos de lista (li)\r\n        const listItem = document.createElement('li');\r\n        listItem.textContent = `Ect: ${scripting}`;\r\n\r\n        const listItem2 = document.createElement('li');\r\n        listItem2.textContent = `Interno: ${scripting2}`;\r\n\r\n        const listItem3 = document.createElement('li');\r\n        listItem3.textContent = `Medio: ${scripting3}`;\r\n\r\n        const listItem4 = document.createElement('li');\r\n        listItem4.textContent = `Externo: ${scripting4}`;\r\n\r\n        // Agregar los nuevos items a la lista\r\n        resultList.appendChild(listItem);\r\n        resultList.appendChild(listItem2);\r\n        resultList.appendChild(listItem3);\r\n        resultList.appendChild(listItem4);\r\n    }\r\n\r\n\r\n\r\n    const pedidos = document.querySelector('#pedido')\r\n\r\n    if(pedidos ){\r\n    const  liner = document.querySelector('[name=\"liner_id\"]')\r\n    const pedido = document.querySelector('[name=\"pedido_id\"]')\r\n    const pedido2 = document.querySelector('[name=\"pedido2_id\"]')\r\n    const bobinaInterna = document.querySelector('[name=\"bobinaInterna_id\"]')\r\n    const bobinaIntermedia = document.querySelector('[name=\"bobinaIntermedia_id\"]')\r\n    const bobinaExterna = document.querySelector('[name=\"bobinaExterna_id\"]')\r\n\r\n    liner.addEventListener('change', busqueda)\r\n    pedido.addEventListener('change', busqueda)\r\n    pedido2.addEventListener('change', busqueda)\r\n    bobinaInterna.addEventListener('change', busqueda)\r\n    bobinaIntermedia.addEventListener('change', busqueda)\r\n    bobinaExterna.addEventListener('change', busqueda)\r\n\r\n    \r\n\r\n    function busqueda (e){\r\n\r\n    // los pedidos no pueden ser iguales\r\n    if ((e.target.name === 'pedido_id' || e.target.name === 'pedido2_id') && pedido.value === pedido2.value) {\r\n        pedido2.value = ''\r\n        mostrarAlerta(\"Pedido ya seleccionado\", \"No puede seleccionar el mismo pedido\", \"error\", \"#ff0000\", \"#f8d7da\");\r\n        return    \r\n\r\n    }else{\r\n        test[e.target.name] = e.target.value.trim()\r\n        console.log(test)\r\n        ApiBobinas();\r\n        ApiTest();\r\n        ApiBobina_externa();\r\n        ApiBobina_media();\r\n        sumargramaje();\r\n        ApiPedidos();\r\n        ApiPedido2();\r\n        // prueba \r\n        pruebasuma();\r\n\r\n\r\n        scriptingTest();\r\n        if (['pedido_id'].includes(e.target.name) &&\r\n        document.querySelector('[name=\"pedido_id\"]').value) {\r\n            TestPedido();\r\n        }\r\n\r\n        \r\n        if (['pedido_id','pedido2_id'].includes(e.target.name) &&\r\n        document.querySelector('[name=\"pedido_id\"]').value &&\r\n        document.querySelector('[name=\"pedido2_id\"]').value) {\r\n            sumarAnchosPedidos();\r\n        \r\n        }\r\n    \r\n     }\r\n\r\n    }\r\n    }\r\n\r\n\r\nconsole.log('edwin ');\r\n\r\n\r\n\r\n})();","\"use strict\";\r\n\r\n(function () {\r\n  var alertaCotizador = document.querySelector('div .exito');\r\n\r\n  if (alertaCotizador) {\r\n    setTimeout(function () {\r\n      alertaCotizador.remove();\r\n    }, 3000);\r\n  }\r\n})();","\"use strict\";\r\n\r\n(function () {\r\n  var maquinaInput = document.querySelector('#maquina_id');\r\n\r\n  if (maquinaInput) {\r\n    var obtenerMaquinas = function obtenerMaquinas() {\r\n      var url, respuesta;\r\n      return regeneratorRuntime.async(function obtenerMaquinas$(_context) {\r\n        while (1) {\r\n          switch (_context.prev = _context.next) {\r\n            case 0:\r\n              url = \"\".concat(location.origin, \"/admin/api/maquinas\");\r\n              ;\r\n              _context.next = 4;\r\n              return regeneratorRuntime.awrap(fetch(url));\r\n\r\n            case 4:\r\n              respuesta = _context.sent;\r\n              _context.next = 7;\r\n              return regeneratorRuntime.awrap(respuesta.json());\r\n\r\n            case 7:\r\n              resultado = _context.sent;\r\n              formatearMaquinas(resultado);\r\n\r\n            case 9:\r\n            case \"end\":\r\n              return _context.stop();\r\n          }\r\n        }\r\n      });\r\n    };\r\n\r\n    var formatearMaquinas = function formatearMaquinas() {\r\n      var arrayMaquinas = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\r\n      maquinas = arrayMaquinas.map(function (maquina) {\r\n        return {\r\n          nombre: \"\".concat(maquina.nombre.trim()),\r\n          id: maquina.id\r\n        };\r\n      });\r\n      console.log(maquinas);\r\n    };\r\n\r\n    var buscarMaquinas = function buscarMaquinas(e) {\r\n      var busqueda = e.target.value;\r\n\r\n      if (busqueda.length > 3) {\r\n        var expresion = new RegExp(busqueda, 'i');\r\n        maquinasFiltradas = maquinas.filter(function (maquina) {\r\n          if (maquina.nombre.toLowerCase().search(expresion) != -1) {\r\n            return maquina;\r\n          }\r\n        });\r\n      } else {\r\n        maquinasFiltradas = [];\r\n      }\r\n\r\n      mostrarMaquinas();\r\n    };\r\n\r\n    var mostrarMaquinas = function mostrarMaquinas() {\r\n      while (listadoMaquinas.firstChild) {\r\n        listadoMaquinas.removeChild(listadoMaquinas.firstChild);\r\n      }\r\n\r\n      if (maquinasFiltradas.length > 0) {\r\n        maquinasFiltradas.forEach(function (maquina) {\r\n          var maquinaHTML = document.createElement('LI');\r\n          maquinaHTML.classList.add('listado-maquinas__maquina');\r\n          maquinaHTML.textContent = maquina.nombre;\r\n          maquinaHTML.dataset.id = maquina.id; // anadir al html\r\n\r\n          listadoMaquinas.appendChild(maquinaHTML);\r\n        });\r\n      } else {\r\n        var noResultado = document.createElement('P');\r\n        noResultado.classList.add('listado-maquinas__no-resultado');\r\n        noResultado.textContent = 'No hay resultados';\r\n        listadoMaquinas.appendChild(noResultado);\r\n      }\r\n    };\r\n\r\n    var maquinas = [];\r\n    var maquinasFiltradas = [];\r\n    var listadoMaquinas = document.querySelector('#listado-maquinas');\r\n    obtenerMaquinas();\r\n    maquinaInput.addEventListener('input', buscarMaquinas);\r\n  }\r\n})();","\"use strict\";\r\n\r\n(function () {\r\n  var test = {\r\n    liner_id: '',\r\n    pedido_id: '',\r\n    pedido2_id: '',\r\n    bobinaInterna_id: '',\r\n    bobinaIntermedia_id: '',\r\n    bobinaExterna_id: ''\r\n  };\r\n  var copiaTest = [];\r\n  var copiaBobinas = []; // obtener datos del api de test\r\n\r\n  function ApiTest() {\r\n    var liner_id, url, resultado, apitest;\r\n    return regeneratorRuntime.async(function ApiTest$(_context) {\r\n      while (1) {\r\n        switch (_context.prev = _context.next) {\r\n          case 0:\r\n            liner_id = test.liner_id;\r\n            _context.prev = 1;\r\n            url = \"\".concat(location.origin, \"/admin/api/test?liner_id=\").concat(liner_id);\r\n            _context.next = 5;\r\n            return regeneratorRuntime.awrap(fetch(url));\r\n\r\n          case 5:\r\n            resultado = _context.sent;\r\n            _context.next = 8;\r\n            return regeneratorRuntime.awrap(resultado.json());\r\n\r\n          case 8:\r\n            apitest = _context.sent;\r\n            copiarDatos(apitest);\r\n            console.log(apitest);\r\n            _context.next = 16;\r\n            break;\r\n\r\n          case 13:\r\n            _context.prev = 13;\r\n            _context.t0 = _context[\"catch\"](1);\r\n            console.log(_context.t0);\r\n\r\n          case 16:\r\n          case \"end\":\r\n            return _context.stop();\r\n        }\r\n      }\r\n    }, null, null, [[1, 13]]);\r\n  }\r\n\r\n  function ApiBobinas() {\r\n    var bobinaInterna_id, url, resultado, apibobinas;\r\n    return regeneratorRuntime.async(function ApiBobinas$(_context2) {\r\n      while (1) {\r\n        switch (_context2.prev = _context2.next) {\r\n          case 0:\r\n            bobinaInterna_id = test.bobinaInterna_id;\r\n            _context2.prev = 1;\r\n            url = \"\".concat(location.origin, \"/admin/api/apibobinas?bobinaInterna_id=\").concat(bobinaInterna_id);\r\n            _context2.next = 5;\r\n            return regeneratorRuntime.awrap(fetch(url));\r\n\r\n          case 5:\r\n            resultado = _context2.sent;\r\n            _context2.next = 8;\r\n            return regeneratorRuntime.awrap(resultado.json());\r\n\r\n          case 8:\r\n            apibobinas = _context2.sent;\r\n            console.log(apibobinas);\r\n            copiarDatos(apibobinas);\r\n            _context2.next = 16;\r\n            break;\r\n\r\n          case 13:\r\n            _context2.prev = 13;\r\n            _context2.t0 = _context2[\"catch\"](1);\r\n            console.log(_context2.t0);\r\n\r\n          case 16:\r\n          case \"end\":\r\n            return _context2.stop();\r\n        }\r\n      }\r\n    }, null, null, [[1, 13]]);\r\n  }\r\n\r\n  function copiarDatos(apitest, apibobinas) {\r\n    copiaTest = apitest;\r\n    copiaBobinas = apibobinas;\r\n    console.log(\"copia de test:\".concat(copiaTest));\r\n    console.log(\"copia de bobinas:\".concat(copiaBobinas));\r\n  }\r\n\r\n  function ApiBobina_externa() {\r\n    var bobinaExterna_id, url, resultado, apibobinas;\r\n    return regeneratorRuntime.async(function ApiBobina_externa$(_context3) {\r\n      while (1) {\r\n        switch (_context3.prev = _context3.next) {\r\n          case 0:\r\n            bobinaExterna_id = test.bobinaExterna_id;\r\n            _context3.prev = 1;\r\n            url = \"\".concat(location.origin, \"/admin/api/apibobina_externa?bobinaExterna_id=\").concat(bobinaExterna_id);\r\n            _context3.next = 5;\r\n            return regeneratorRuntime.awrap(fetch(url));\r\n\r\n          case 5:\r\n            resultado = _context3.sent;\r\n            _context3.next = 8;\r\n            return regeneratorRuntime.awrap(resultado.json());\r\n\r\n          case 8:\r\n            apibobinas = _context3.sent;\r\n            console.log(apibobinas); // mostrarApibobinas(apibobinas);\r\n\r\n            _context3.next = 15;\r\n            break;\r\n\r\n          case 12:\r\n            _context3.prev = 12;\r\n            _context3.t0 = _context3[\"catch\"](1);\r\n            console.log(_context3.t0);\r\n\r\n          case 15:\r\n          case \"end\":\r\n            return _context3.stop();\r\n        }\r\n      }\r\n    }, null, null, [[1, 12]]);\r\n  }\r\n\r\n  function ApiBobina_media() {\r\n    var bobinaIntermedia_id, url, resultado, apibobinas;\r\n    return regeneratorRuntime.async(function ApiBobina_media$(_context4) {\r\n      while (1) {\r\n        switch (_context4.prev = _context4.next) {\r\n          case 0:\r\n            bobinaIntermedia_id = test.bobinaIntermedia_id;\r\n            _context4.prev = 1;\r\n            url = \"\".concat(location.origin, \"/admin/api/apibobina_media?bobinaIntermedia_id=\").concat(bobinaIntermedia_id);\r\n            _context4.next = 5;\r\n            return regeneratorRuntime.awrap(fetch(url));\r\n\r\n          case 5:\r\n            resultado = _context4.sent;\r\n            _context4.next = 8;\r\n            return regeneratorRuntime.awrap(resultado.json());\r\n\r\n          case 8:\r\n            apibobinas = _context4.sent;\r\n            console.log(apibobinas); // mostrarApibobinas(apibobinas);\r\n\r\n            _context4.next = 15;\r\n            break;\r\n\r\n          case 12:\r\n            _context4.prev = 12;\r\n            _context4.t0 = _context4[\"catch\"](1);\r\n            console.log(_context4.t0);\r\n\r\n          case 15:\r\n          case \"end\":\r\n            return _context4.stop();\r\n        }\r\n      }\r\n    }, null, null, [[1, 12]]);\r\n  }\r\n\r\n  var pedidos = document.querySelector('.pedidos');\r\n\r\n  if (pedidos) {\r\n    var busqueda = function busqueda(e) {\r\n      // los pedidos no pueden ser iguales\r\n      if ((e.target.name === 'pedido_id' || e.target.name === 'pedido2_id') && pedido.value === pedido2.value) {\r\n        pedido2.value = '';\r\n        Swal.fire(\"Pedido ya seleccionado\", \"No puede seleccionar el mismo pedido\", \"error\");\r\n        return;\r\n      } else {\r\n        test[e.target.name] = e.target.value.trim();\r\n        console.log(test);\r\n        ApiBobinas();\r\n        ApiTest();\r\n        ApiBobina_externa();\r\n        ApiBobina_media();\r\n      }\r\n    };\r\n\r\n    var liner = document.querySelector('[name=\"liner_id\"]');\r\n    var pedido = document.querySelector('[name=\"pedido_id\"]');\r\n    var pedido2 = document.querySelector('[name=\"pedido2_id\"]');\r\n    var bobinaInterna = document.querySelector('[name=\"bobinaInterna_id\"]');\r\n    var bobinaIntermedia = document.querySelector('[name=\"bobinaIntermedia_id\"]');\r\n    var bobinaExterna = document.querySelector('[name=\"bobinaExterna_id\"]');\r\n    liner.addEventListener('change', busqueda);\r\n    pedido.addEventListener('change', busqueda);\r\n    pedido2.addEventListener('change', busqueda);\r\n    bobinaInterna.addEventListener('change', busqueda);\r\n    bobinaIntermedia.addEventListener('change', busqueda);\r\n    bobinaExterna.addEventListener('change', busqueda);\r\n  }\r\n})();"]}