{"version":3,"sources":["alertas.js","app.js"],"names":["document","addEventListener","respuesta","querySelector","remove","console","log","maquinaInput","maquinas","maquinasFiltradas","listadoMaquinas","async","url","location","origin","fetch","resultado","json","arrayMaquinas","map","maquina","nombre","trim","id","formatearMaquinas","obtenerMaquinas","e","busqueda","target","value","length","expresion","RegExp","filter","toLowerCase","search","firstChild","removeChild","forEach","maquinaHTML","createElement","classList","add","textContent","dataset","appendChild","noResultado","mostrarMaquinas"],"mappings":"AAEAA,SAAAC,iBAAA,oBAAA,WACA,MAAAC,EAAAF,SAAAG,cAAA,6BACAD,EACAA,EAAAE,SAEAC,QAAAC,IAAA,6BCPA,WACA,MAAAC,EAAAP,SAAAG,cAAA,eACA,GAAAI,EAAA,CACA,IAAAC,EAAA,GACAC,EAAA,GAEA,MAAAC,EAAAV,SAAAG,cAAA,sBAKAQ,iBACA,MAAAC,EAAAC,SAAAC,OAAA,sBACAZ,QAAAa,MAAAH,GACAI,gBAAAd,EAAAe,OAKA,SAAAC,EAAA,IACAV,EAAAU,EAAAC,IAAAC,IACA,CACAC,OAAA,GAAAD,EAAAC,OAAAC,OACAC,GAAAH,EAAAG,MAIAlB,QAAAC,IAAAE,GAZAgB,CAAAR,WARAS,GAEAlB,EAAAN,iBAAA,SAuBA,SAAAyB,GACA,MAAAC,EAAAD,EAAAE,OAAAC,MAEA,GAAAF,EAAAG,OAAA,EAAA,CACA,MAAAC,EAAA,IAAAC,OAAAL,EAAA,KACAlB,EAAAD,EAAAyB,OAAAb,IACA,IAAA,GAAAA,EAAAC,OAAAa,cAAAC,OAAAJ,GACA,OAAAX,SAKAX,EAAA,IAKA,WACA,KAAAC,EAAA0B,YACA1B,EAAA2B,YAAA3B,EAAA0B,YAGA,GAAA3B,EAAAqB,OAAA,EACArB,EAAA6B,QAAAlB,IACA,MAAAmB,EAAAvC,SAAAwC,cAAA,MACAD,EAAAE,UAAAC,IAAA,6BACAH,EAAAI,YAAAvB,EAAAC,OACAkB,EAAAK,QAAArB,GAAAH,EAAAG,GAGAb,EAAAmC,YAAAN,SAGA,CACA,MAAAO,EAAA9C,SAAAwC,cAAA,KACAM,EAAAL,UAAAC,IAAA,kCACAI,EAAAH,YAAA,oBACAjC,EAAAmC,YAAAC,IAvBAC,OA9CA","file":"bundle.js","sourcesContent":["(function() {\r\n\r\n    document.addEventListener('DOMContentLoaded', function() {\r\n        const respuesta = document.querySelector('aside .dashboard__sidebar');\r\n        if (respuesta) {\r\n            respuesta.remove();\r\n        } else {\r\n            console.log('Elemento no encontrado');\r\n        }\r\n    });\r\n    \r\n})();","(function(){\r\n    const maquinaInput = document.querySelector('#maquina_id');\r\n    if(maquinaInput){\r\n        let maquinas= [];\r\n        let maquinasFiltradas = [];\r\n\r\n        const listadoMaquinas = document.querySelector('#listado-maquinas');\r\n        obtenerMaquinas();\r\n\r\n        maquinaInput.addEventListener('input',buscarMaquinas);\r\n\r\n        async function obtenerMaquinas(){\r\n            const url = `${location.origin}/admin/api/maquinas`;;\r\n            const respuesta = await fetch(url);\r\n            resultado = await respuesta.json();\r\n            formatearMaquinas(resultado);\r\n        }\r\n\r\n\r\n        function formatearMaquinas(arrayMaquinas=[]){\r\n            maquinas = arrayMaquinas.map(maquina => {\r\n                return {\r\n                    nombre: `${maquina.nombre.trim()}`,\r\n                    id: maquina.id\r\n                }\r\n            });\r\n\r\n            console.log(maquinas);\r\n\r\n        }\r\n\r\n\r\n        function buscarMaquinas(e){\r\n           const busqueda = e.target.value;\r\n\r\n           if(busqueda.length>3){\r\n            const expresion = new RegExp(busqueda, 'i');\r\n            maquinasFiltradas = maquinas.filter(maquina =>{\r\n                if(maquina.nombre.toLowerCase().search(expresion) != -1){\r\n                    return maquina;\r\n\r\n                }\r\n            });\r\n           }else{\r\n                maquinasFiltradas = [];\r\n           }\r\n           mostrarMaquinas();\r\n        }\r\n\r\n        function mostrarMaquinas(){\r\n            while(listadoMaquinas.firstChild){\r\n                listadoMaquinas.removeChild(listadoMaquinas.firstChild);\r\n            }\r\n\r\n            if(maquinasFiltradas.length >0){\r\n                maquinasFiltradas.forEach (maquina =>{\r\n                    const maquinaHTML = document.createElement('LI');\r\n                    maquinaHTML.classList.add('listado-maquinas__maquina');\r\n                    maquinaHTML.textContent = maquina.nombre;\r\n                    maquinaHTML.dataset.id = maquina.id;\r\n    \r\n                    // anadir al html\r\n                    listadoMaquinas.appendChild(maquinaHTML);\r\n                })\r\n\r\n            }else{\r\n                const noResultado = document.createElement('P');\r\n                noResultado.classList.add('listado-maquinas__no-resultado');\r\n                noResultado.textContent = 'No hay resultados';\r\n                listadoMaquinas.appendChild(noResultado);\r\n            }\r\n\r\n\r\n\r\n          \r\n        }\r\n\r\n    }\r\n})();\r\n\r\n"]}